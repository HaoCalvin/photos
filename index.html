<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PhotoShare - 照片分享社区</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#000000">
</head>
<body class="theme-dark">
    <!-- 加载动画 -->
    <div id="loader" class="loader">
        <div class="spinner"></div>
        <p>正在加载...</p>
    </div>

    <!-- 顶部导航 -->
    <nav class="navbar">
        <div class="nav-container">
            <h1 class="logo">📸 PhotoShare</h1>
            <div class="nav-menu">
                <button id="themeToggle" class="btn-icon" title="切换主题">🌙</button>
                <button id="searchBtn" class="btn-icon" title="搜索">🔍</button>
                <button id="uploadBtn" class="btn-icon" title="上传照片">➕</button>
                <button id="profileBtn" class="btn-icon" title="个人中心">👤</button>
            </div>
        </div>
    </nav>

    <!-- 搜索栏 -->
    <div id="searchBar" class="search-bar hidden">
        <input type="text" id="searchInput" placeholder="搜索关键词或用户名...">
        <button id="searchConfirm">搜索</button>
    </div>

    <!-- 主要内容区 -->
    <main class="main-content">
        <!-- 标签页 -->
        <div class="tabs">
            <button class="tab-btn active" data-tab="hot">热门</button>
            <button class="tab-btn" data-tab="latest">最新</button>
            <button class="tab-btn" data-tab="following">关注</button>
        </div>

        <!-- 图片网格 -->
        <div id="photoGrid" class="photo-grid">
            <!-- 动态加载图片 -->
        </div>

        <!-- 加载更多 -->
        <div id="loadMore" class="load-more">
            <button class="btn-primary">加载更多</button>
        </div>
    </main>

    <!-- 上传模态框 -->
    <div id="uploadModal" class="modal hidden">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>上传照片</h2>
            <form id="uploadForm">
                <div class="upload-area" id="uploadArea">
                    <p>点击或拖拽图片到此处</p>
                    <input type="file" id="fileInput" accept="image/*" hidden>
                </div>
                <div class="form-group">
                    <label for="photoTitle">标题：</label>
                    <input type="text" id="photoTitle" required>
                </div>
                <div class="form-group">
                    <label for="photoKeywords">关键词（用空格分隔，至少一个）：</label>
                    <input type="text" id="photoKeywords" required placeholder="例如：风景 日落 海滩">
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="isPrivate"> 设为私密（仅自己可见）
                    </label>
                </div>
                <button type="submit" class="btn-primary">上传</button>
            </form>
        </div>
    </div>

    <!-- 图片详情模态框 -->
    <div id="photoModal" class="modal hidden">
        <div class="modal-content photo-modal-content">
            <span class="close">&times;</span>
            <img id="modalImage" src="" alt="">
            <div class="photo-info">
                <h3 id="photoTitleModal"></h3>
                <p id="photoKeywordsModal"></p>
                <div class="photo-actions">
                    <button id="likeBtn" class="btn-like">❤️ <span id="likeCount">0</span></button>
                    <button id="userBtn" class="btn-user">👤 <span id="photoUser"></span></button>
                </div>
            </div>
        </div>
    </div>

    <!-- 个人中心模态框 -->
    <div id="profileModal" class="modal hidden">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div id="profileContent">
                <!-- 动态加载个人中心内容 -->
            </div>
        </div>
    </div>

    <!-- 管理员面板 -->
    <div id="adminPanel" class="admin-panel hidden">
        <h3>管理员面板</h3>
        <button id="syncBtn" class="btn-primary">同步数据到GitHub</button>
        <button id="loadFromGithubBtn" class="btn-primary">从GitHub加载数据</button>
        <div id="adminStats"></div>
    </div>

    <script src="idb.js"></script>
    <script src="crypto.js"></script>
    <script src="app.js"></script>
</body>
</html>
